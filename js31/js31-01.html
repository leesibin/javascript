<!DOCTYPE html>
<html lang="en">
<head>
    <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>로컬스토리지 기능추가</title>
    <script src="https://unpkg.com/typeit@8.7.0/dist/index.umd.js"></script>
    <style>
        button{
            margin: 5px
            
        }
    </style>
    <script>
       

        document.addEventListener("DOMContentLoaded",()=>{
            const p1 = document.createElement("p");
            const p2 = document.createElement("p");
            const input = document.createElement("input");
            const add = document.createElement("button");
            const pop = document.createElement("button");
            const del = document.createElement("button");
            const fix = document.createElement("button");
            const sort = document.createElement("button");
            document.body.append(input,add,pop,fix,sort,del, p1, p2)
            add.innerHTML = '추가'
            pop.innerHTML = '제거'
            del.innerHTML = '요소모두삭제'
            fix.innerHTML = '중복제거'
            sort.innerHTML = '정렬'

           
            
            // ready=='unden'?arr.length=0 :arr = ready.split(',') 
            // let ready =localStorage.getItem('mem')
            let arr = []  
            let vin = '' //'' =빈칸일때 false
            p2.innerHTML = arr
            input.addEventListener('keyup',(e)=>{
                vin = e.currentTarget.value
                const ENTER = 13
                if(e.keyCode === ENTER){
                    if(vin){
                    arr.push(vin)
                    p1.innerHTML = vin + '를 추가 하였습니다.'
                    p2.innerHTML = arr
                    vin=''
                    input.value = vin
                }else{
                    p1.innerHTML = '값을 넣으세요.'
                }
               
                localStorage.setItem('mem',arr)
                }
            })

            add.addEventListener('click',(e)=>{
                if(vin){
                    arr.push(vin)
                    p1.innerHTML = vin + '를 추가 하였습니다.'
                    new TypeIt(p1)
                    .pause(1000)
                    .go()
                    p2.innerHTML = arr
                    vin=''
                    input.value = vin
                }else{
                    vin=' '
                    p1.innerHTML = '값을 넣으세요.'
                    p2.innerHTML = arr
                }
               
                localStorage.setItem('mem',arr)
                console.log(arr)
                
            })
            pop.addEventListener('click',(e)=>{
                const pp = arr.pop()
                vin = ''
                input.value = vin
                p1.innerHTML = pp ? `${pp}를 제거 하였습니다` : '배열이 비었습니다.'
                new TypeIt(p1)
                    .pause(1000)
                    .go()
                p2.innerHTML = arr
                localStorage.setItem('mem',arr)
            })
            del.addEventListener('click',(e)=>{
                let status = confirm('하시겠습니까?')
                if(status){
                arr.length = 0
                vin = ''
                input.value = vin
                p1.innerHTML = '전부 삭제 완료'
                p2.innerHTML = '비었음'   
                }else{
                    p1.innerHTML = '실패했습니다.'
                    p2.innerHTML = arr
                }
                localStorage.setItem('mem',arr)
            })
            
            fix.addEventListener('click',(e)=>{   
                arr = arr.filter((v)=>{
                    return(v!=''&&v!=' '&&v!=' '&&v!='  '&&v!=null&&v!=undefined)
                })
                const starr = arr.join(',')
                console.log(starr,typeof starr)
                let arr0 =starr.replace(' ','')
                console.log(arr0,typeof arr0)
                arr = arr0.split(',')
                console.log(arr,typeof arr)             
               const arrs = new Set(arr) //Set 중복제거
                arr = [...arrs] // Array.from(arrs)
                vin = ''
                input.value = vin
                p1.innerHTML = '중복 제거 완료'
                p2.innerHTML = arr
                localStorage.setItem('mem',arr)
                console.log(arr)
            })
            sort.addEventListener('click',(e)=>{
                
                arr.sort((a,b)=>a-b)
                vin = ''
                input.value = vin
                p1.innerHTML = '정리완료'
                p2.innerHTML = arr
                localStorage.setItem('mem',arr)
                
            })
        })
    </script>
</head>
<body>
    <!-- 
        배열이 기록
        배열에 요소 입력 
        push
        
        배열에 요소 삭제
        pop
        로컬스토리지에 저장되고 삭제되도록 하라.
        F5를 눌러도 값이 사라지지 않는다.
        추가사항:
        모든 요소 삭제 버튼 한개
        중복 제거 버튼 한개

        1.엔터치면 추가 기능도 되게하라.
        2.중복제거: 기능추가 빈칸요소도 없애기
        3.요소모두삭제 : 팝업으로 삭제할까요?라고
        확인창 뜨기.(예yes =>삭제,no=>취소)
     -->
</body>
</html>